var pending=!1,pass=!1,response={response:"FORM_DATA_EMPTY"};
function asyncFormSubmission(h,b,k,d,f,c,e){b=void 0===b?null:b;f=void 0===f?0:f;c=void 0===c?0:c;e=void 0===e?!1:e;$(h).submit(function(g){g.preventDefault();if(!pending)if(g="",g=b instanceof Function?b():b,k(),pending=!0,pass){var h=new Date;$.ajax({method:"POST",url:g,data:$(this).serialize(),success:function(a){a=$.trim(a);var b=new Date-h;try{a=JSON.parse(a)}catch(l){a={response:"JSON_PARSE_FAILED"}}"SUCCESS"===a.response||!1===e?setTimeout(function(){pending=!1;d(a)},f-b):!0===e?(d(a),setTimeout(function(){pending=
!1},c)):setTimeout(function(){d(a);pending=!1},c)},error:function(){data={response:"RESPONSE_TIMEOUT"};d(data);pending=!1},timeout:3E3})}else setTimeout(function(){pending=!1;d(response)},c)})};
